let data={sketch:{background:"#FFFFFF"},particle:{stroke:{check:!1,color:"#60BFD1",weight:1},fill:{check:!0,color:"#2E90DD"},radius:2}},Engine=Matter.Engine,World=Matter.World,Bodies=Matter.Bodies,engine,world,particles=[],obstacles=[],scenery,ground1,ground2,ground3,ground4,ground5;function setup(){createCanvas(windowWidth,windowHeight),engine=Engine.create(),world=engine.world,Engine.run(engine),ground1=new Ground(0.5*width,height),ground2=new Ground(random(0.1*width,0.15*width),height),ground3=new Ground(random(0.25*width,0.3*width),height),ground4=new Ground(random(0.6*width,0.65*width),height),ground5=new Ground(random(0.75*width,0.8*width),height),scenery=new Scenery,rectMode(CENTER),ellipseMode(CENTER),colorMode(HSB,100),angleMode(DEGREES),background(0)}function draw(){background(0,10);for(var a=0,b=1;a<b;a+=1)particles.push(new Particle(random(0*width,0.49*width),random(0*height,0.01*height)));for(var a=0,b=2;a<b;a+=1)particles.push(new Particle(random(0.49*width,0.5*width),random(0,0.01*height)));for(var a=0,b=1;a<b;a+=1)particles.push(new Particle(random(0.5*width,width),random(0,0.01*height)));ground1.show(),ground2.show(),ground3.show(),ground4.show(),ground5.show();for(var a=0,b=particles.length;a<b;a+=1)particles[a]&&(particles[a].show(),(particles[a].body.position.x>width||0>particles[a].body.position.x||particles[a].body.position.y>height||0>particles[a].body.position.y)&&(particles[a].removeFromWorld(),particles.splice(a,1),a--));for(var a=0,b=obstacles.length;a<b;a+=1)obstacles[a]&&obstacles[a].show()}function mousePressed(){obstacles.push(new Obstacle(mouseX,mouseY))}class Scenery{show(){push(),stroke(255),beginShape();for(var a=0,b=0.48*width;a<b;a+=4)curveVertex(a,0.1*height+5*noise(a+100*sin(frameCount)));endShape(),pop(),push(),stroke(255),beginShape();for(var a=0.51*width,b=width;a<b;a+=4)curveVertex(a,0.1*height+5*noise(a+100*sin(frameCount)));endShape(),pop()}}class Ground{constructor(a,b){this.options={isStatic:!0,restitution:1,friction:0},this.width=0.1*width,this.height=random(150,500),this.body=Bodies.rectangle(a,b,this.width,this.height,this.options),World.add(world,this.body)}show(){push(),translate(this.body.position.x,this.body.position.y),stroke(255),rect(0,0,this.width,this.height),pop()}update(){}}class Obstacle{constructor(a,b){this.options={isStatic:!0,restitution:0.8,friction:0},this.radius=20,this.body=Bodies.circle(a,b,0.5*this.radius,this.options),World.add(world,this.body)}show(){push(),translate(this.body.position.x,this.body.position.y),stroke(255),ellipse(0,0,this.radius,this.radius),pop()}}class Particle{constructor(a,b){this.options={restitution:0.6,friction:0},this.radius=data.particle.radius,this.body=Bodies.circle(a,b,this.radius,this.options),World.add(world,this.body)}show(){let a=this.body.position,b=this.body.angle;push(),data.particle.stroke.check?(stroke(data.particle.stroke.color),strokeWeight(data.particle.stroke.weight)):noStroke(),data.particle.fill.check?fill(data.particle.fill.color):noFill(),translate(a.x,a.y),rotate(b),ellipse(0,0,this.radius,this.radius),pop()}removeFromWorld(){World.remove(world,this.body)}}Array.prototype.clean=function(a){for(var b=0;b<this.length;b++)this[b]==a&&(this.splice(b,1),b--);return this};