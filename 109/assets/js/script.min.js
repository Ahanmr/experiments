let data={sketch:{background:"#FFFFFF",scale:window.innerHeight/window.innerWidth,width:160,height:120},metaball:{number:8,size:0.5}},blobs=[];function setup(){let a=createCanvas(data.sketch.width,data.sketch.height*data.sketch.scale);a.id("canvas"),colorMode(HSL,100);for(var c=0,e=data.metaball.number;c<e;c+=1)blobs.push(new Blob(random(width),random(height)))}function draw(){background(data.sketch.background),loadPixels();for(var a=0,c=width;a<c;a+=1)for(var e=0,f=height;e<f;e+=1){let h=4*(a+e*width),j=0;blobs.forEach(o=>{let p=dist(a,e,o.position.x,o.position.y);j+=o.r/p});let k=map(j,0,(width+height)*data.metaball.size,0,j),l=map(j,0,(width+height)*data.metaball.size,0,60),m=map(j,0,(width+height)*data.metaball.size,100,0),n=color(m,l,k);set(a,e,n)}updatePixels(),blobs.forEach(h=>{h.update()})}