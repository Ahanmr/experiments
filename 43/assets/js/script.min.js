let data={sketch:{background:"#000000"},symbol:{size:15,fadeInterval:1.3,color:{fill:"#00FF70",first:"#A5FFB1",stroke:"#086C34"}}},streams=[];function setup(){createCanvas(windowWidth,windowHeight),background(0);let a=0;for(var b=0,c=width/data.symbol.size;b<c;b+=1){let d=new Stream;d.generateSymbols(a,random(0,0.5*-height)),streams.push(d),a+=data.symbol.size+random(10,30)}fill(data.symbol.color.fill),stroke(data.symbol.color.stroke),strokeWeight(1),textSize(data.symbol.size)}function draw(){background(0,150),streams.forEach(function(a){a.show()})}class Symbol{constructor(a,b,c=1,d,e){this.x=a,this.y=b,this.value,this.speed=c,this.switchInterval=round(random(2,20)),this.first=d,this.opacity=e}show(){push(),text(this.value,this.x,this.y),pop()}setToRandomSymbol(){var a=round(random(0,5));0==frameCount%this.switchInterval&&(1<a?this.value=String.fromCharCode(2308+round(random(0,36))):this.value=round(random(0,9)))}rain(){this.y=this.y>height?0:this.y+=this.speed}}class Stream{constructor(){this.symbols=[],this.totalSymbols=round(random(5,20)),this.speed=random(2,15)}generateSymbols(a,b){let c=1==round(random(0,4)),d=255;for(var e=0,f=this.totalSymbols;e<f;e+=1){let g=new Symbol(a,b,this.speed,c,d);g.setToRandomSymbol(),this.symbols.push(g),b-=data.symbol.size,0<=e&&(d-=255/this.totalSymbols/data.symbol.fadeInterval,b-=data.symbol.size,c=!1)}}show(){this.symbols.forEach(function(a){a.first?fill(140,255,170,a.opacity):fill(0,255,70,a.opacity),a.show(),a.rain(),a.setToRandomSymbol()})}}