let data={sketch:{background:"#FFFFFF"},earth:{vehicles:600,r:500}},earth;function setup(){createCanvas(windowWidth,windowHeight,WEBGL),angleMode(DEGREES),earth=new Earth(0,0,0),earth.initialize()}function draw(){background(data.sketch.background),camera(0,0,500),orbitControl(),rotateY(radians(0.6*frameCount)),rotateZ(radians(0.1*frameCount)),earth.show()}class Earth{constructor(a,b,c){this.position=new p5.Vector(a,b,c),this.vehicles=[]}initialize(){for(var a=0;a<data.earth.vehicles;a+=1){let b=randomGaussian(0,360),c=randomGaussian(0,360),d=data.earth.r*cos(b)*cos(c),e=data.earth.r*cos(b)*sin(c),f=data.earth.r*sin(b);this.vehicles.push(new Vehicle(d,e,f))}}show(){push(),ambientLight(0),pointLight(255,255,255,900,900,900),translate(this.position.x,this.position.y,this.position.y);for(var a=0;a<this.vehicles.length;a+=1)this.vehicles[a].update(a),this.vehicles[a].show(a);pop()}}class Vehicle{constructor(a=0,b=0,c=0){this.position=new p5.Vector(a,b,c),this.origin=new p5.Vector(a,b,c),this.random=[randomGaussian(0,0.4),randomGaussian(0,0.4)]}show(){push(),specularMaterial(50),translate(this.position.x,this.position.y,this.position.z),sphere(5),pop()}update(a){let b=lerp(frameCount*noise(this.origin.x,this.origin.y),frameCount*noise(this.origin.x,this.origin.y)+a*this.random[0],0.3),c=lerp(frameCount*noise(this.origin.x,this.origin.y),frameCount*noise(this.origin.x,this.origin.y)+a*this.random[1],0.3);this.position.x=data.earth.r*cos(b+this.random[0])*cos(c),this.position.y=data.earth.r*cos(b+this.random[0])*sin(c),this.position.z=data.earth.r*sin(b+this.random[0])}}