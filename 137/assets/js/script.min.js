let data={sketch:{background:"#000000"},structure:{rings:50},ring:{n:10,r:15},atoms:{size:1}},atoms=[];function setup(){createCanvas(windowWidth,windowHeight,WEBGL),angleMode(DEGREES),colorMode(HSB,100);for(var a=0;a<data.structure.rings;a+=1){let c=data.ring.r*(a+1);atoms[a]=[];for(var b=0;b<data.ring.n;b+=1){let d=c*cos(frameCount+b*(360/data.ring.n)),e=c*sin(frameCount+b*(360/data.ring.n));atoms[a].push(new Atom(d,e,100))}}}function draw(){background(data.sketch.background),orbitControl(),camera(0,0,100),rotateX(90),rotateY(radians(-15));for(var a=atoms.length-1;0<=a;a-=1){push(),rotateZ(0.01*frameCount+Math.log(0.1*(a+1))),fill(map(a,atoms.length-1,0,0,abs(50*(1+0.5*sin(2*frameCount+a*(360/data.structure.rings))))),100,100,60),beginShape();for(var b=0;b<atoms[a].length;b+=1)vertex(atoms[a][b].position.x,atoms[a][b].position.y,atoms[a][b].position.z);endShape(CLOSE),pop()}ambientLight(0,0,0),pointLight(0,0,100,300*sin(frameCount),0,300),specularMaterial(255,255,255);for(var a=atoms.length-1;0<=a;a-=1){push(),rotateZ(0.01*frameCount+Math.log(0.1*(a+1)));for(var b=0;b<atoms[a].length;b+=1)atoms[a][b].show(a);pop()}}class Atom{constructor(a=0,b=0,c=0){this.position=new p5.Vector(a,b,c),this.original=new p5.Vector(a,b,c)}show(a){this.update(a),push(),translate(this.position.x,this.position.y,this.position.z),sphere(data.atoms.size,60),pop()}update(a){this.position.z=this.original.z*sin(4*frameCount+a*(360/data.structure.rings))}}