let data={sketch:{background:"#FFFFFF",max_clicks:4,counter:0},fractal:{root:600}},root,vicsek=[];function setup(){createCanvas(windowWidth,windowHeight,WEBGL),root=new Box(0,0,0,data.fractal.root),vicsek.push(root),colorMode(HSB,100)}function draw(){background(data.sketch.background),rotateX(0.01*frameCount),rotateY(0.01*frameCount),data.sketch.counter<data.sketch.max_clicks&&scale(map(data.sketch.max_clicks-data.sketch.counter,data.sketch.max_clicks,0,0.5,1));for(var a=0,c=vicsek.length;a<c;a+=1)vicsek[a].show()}function mousePressed(){if(data.sketch.counter<data.sketch.max_clicks){let a=[];vicsek.forEach(c=>{a.push(...c.generate())}),vicsek=a}data.sketch.counter++}