let data={sketch:{background:"#000000"},mickey:{number:64,head:10}},mickeys=[],song,fft,amp;var loaded=()=>{song.loop()},setup=()=>{createCanvas(windowWidth,windowHeight),song=loadSound("/sounds/experiments/73.mp3",loaded),fft=new p5.FFT(0.8,64),amp=new p5.Amplitude;for(var a=0,b=data.mickey.number;a<b;a+=1)mickeys[a]=new Mickey(a);angleMode(DEGREES),ellipseMode(CENTER),colorMode(HSB,100),noStroke()},draw=()=>{background(data.sketch.background);let a=amp.getLevel(),b=fft.analyze();for(var c=b.length-1;c>0;c-=1)mickeys[c].show(1,b[c])};class Mickey{constructor(a=1,b=0.5*width,c=0.6*height){this.i=a,this.origin=new p5.Vector(b,c),this.x=0,this.y=0}show(a=1,b=0){push(),translate(this.origin.x,this.origin.y),translate(this.x,this.y),0==this.i%2?fill(map(b,0,255,0,50+50*sin(frameCount)),100,100):fill(0),this.shape(map(a*b,0,1e3,0,30)),pop()}shape(a=1){push(),ellipse(0,0,data.mickey.head*a*this.i,data.mickey.head*a*this.i),push(),translate(0.5*(-data.mickey.head*a*this.i),0.5*(-data.mickey.head*a*this.i)),ellipse(0,0,0.7*(data.mickey.head*a*this.i),0.7*(data.mickey.head*a*this.i)),pop(),push(),translate(0.5*(data.mickey.head*a*this.i),0.5*(-data.mickey.head*a*this.i)),ellipse(0,0,0.7*(data.mickey.head*a*this.i),0.7*(data.mickey.head*a*this.i)),pop(),pop()}update(){let a=random(1)}}