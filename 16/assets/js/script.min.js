let data={sketch:{background:"#261a07"},circles:{inner:{invertColors:!0,speed:0.01},outer:{outerspacing:3,radius_multiplier:1,n:37,fill:"#d4b779",stroke:"#d4b779"}}};var controlkit,createControlKit=()=>{controlkit=new ControlKit,controlkit.addPanel({fixed:!1,label:"Sketch Controls"}).addColor(data.sketch,"background",{colorMode:"hex",label:"Background Color"}).addGroup({label:"Circle Specific Controls"}).addSubGroup({label:"Inner Ring"}).addCheckbox(data.circles.inner,"invertColors",{label:"Invert Colors?"}).addSubGroup({label:"Outer Ring"})};createControlKit();class Circle{constructor(d,e,f,g=0,h,j=0){this.cx=d,this.cy=e,this.r=f,this.br=f,this.i=g,this.inner=h,this.angle=j,this.speed=data.circles.inner.speed}show(){push(),translate(this.cx,this.cy),this.inner?(data.circles.inner.invertColors?0==this.i%2?fill(data.circles.outer.fill):fill(data.sketch.background):0==this.i%2?fill(data.sketch.background):fill(data.circles.outer.fill),noStroke()):(fill(data.circles.outer.fill),stroke(data.circles.outer.stroke)),ellipse(0,0,2*this.r,2*this.r),pop()}update(){this.r=this.br*Math.sin(this.speed),this.speed+=0.01}}class CircleCollections{constructor(d=0,e=0){this.cx=d,this.cy=e}returnInnerCircleArray(d,e,f,g){let h=[];for(var j=g;j>0;j-=1){let l=j*f;h.push(new Circle(d,e-l,l,j,!0))}return h}returnOuterCircleArray(d,e,f,g,h){let j=[];angleMode(DEGREES);let k;h=Math.floor((h+1)/2);for(var l=0,m=h;l<m;l+=1){let o=g/(l+1),p;if(0<l){o*=data.circles.outer.radius_multiplier;let q=o+o*(l+1)/l,s=o+f,t=f+o*(l+1)/l,u=Math.pow(q,2),v=Math.pow(s,2),w=Math.pow(t,2);p=acos((v+w-u)/(2*s*t))+k+data.circles.outer.outerspacing,k=p;let x=d+(f+o)*cos(p),y=e-f+(f+o)*sin(p);j.push(new Circle(x,y,o,l,!1)),p*=-1,p+=180,x=d+(f+o)*cos(p),y=e-f+(f+o)*sin(p),j.push(new Circle(x,y,o,l,!1))}else{p=-90,k=p;let q=d+(f+o)*cos(p),s=e-f+(f+o)*sin(p);j.push(new Circle(q,s,o,l,!1))}}return j}}let innerCircles=[],outerCircles=[];function setup(){createCanvas(windowWidth,windowHeight);let d=new CircleCollections;innerCircles=d.returnInnerCircleArray(width/2,height/2,20,7),outerCircles=d.returnOuterCircleArray(width/2,height/2,140,50,data.circles.outer.n)}let count=0;function draw(){background(data.sketch.background),push(),translate(width/2,height/2),angleMode(DEGREES),rotate(-90+count),push(),translate(-width/2,-height/2);for(var d=0,e=innerCircles.length;d<e;d+=1)innerCircles[d].show();for(var d=0,e=outerCircles.length;d<e;d+=1)outerCircles[d].show();push(),translate(width/2,height/2),rotate(180-count),rotate(count),push(),translate(-width/2,-height/2);for(var d=0,e=innerCircles.length;d<e;d+=1)innerCircles[d].show();for(var d=0,e=outerCircles.length;d<e;d+=1)outerCircles[d].update(),outerCircles[d].show();pop(),pop(),count+=0.2}