let data={sketch:{background:"#FFFFFF",constant:1e4},magnet:{strength:1,height:50,width:240},poles:{north:{strength:1,height:50,width:120,stroke:{check:!0,color:"#000000",weight:3},fill:{check:!0,color:"#69D2A0"}},south:{strength:1,height:50,width:120,stroke:{check:!0,color:"#000000",weight:3},fill:{check:!0,color:"#C66346"}}},arrow:{number:1e3,mass:1,size:1,stroke:{check:!0,color:"#000000",weight:1},fill:{check:!0,color:"#000000"}},attractor:{number:0,mass:10,size:10,stroke:{check:!1,color:"#000000",weight:3},fill:{check:!0,color:"#DE3030"}}},magnet,arrows=[];function setup(){createCanvas(windowWidth,windowHeight),rectMode(CENTER),angleMode(DEGREES);for(var b=0,c=data.arrow.number;b<c;b+=1)arrows.push(new Arrow(randomGaussian(0.5*width,0.18*width),randomGaussian(0.5*height,0.18*height)));magnet=new Magnet(0.5*width,0.5*height)}function draw(){if(background(255,5),arrows.forEach(d=>{d.clearForce(),d.attracted(magnet.north),d.attracted(magnet.south),d.update(),d.edges(),d.show()}),magnet.show(),0==1*frameCount%60)for(var b=0,c=0.1*data.arrow.number;b<c;b+=1)arrows.push(new Arrow(arrows[0].start.x,arrows[0].start.y)),arrows.splice(0,1)}class Magnet{constructor(b,c){this.position=new p5.Vector(b,c),this.strength=data.magnet.strength,this.length=data.magnet.length,this.height=data.magnet.height,this.north=new Pole(this.position.x-0.25*data.magnet.width,this.position.y,this.strength,"north"),this.south=new Pole(this.position.x+0.25*data.magnet.width,this.position.y,this.strength,"south")}show(){push(),this.south.show(),this.north.show(),pop()}}class Pole{constructor(b,c,d,e){this.position=new p5.Vector(b,c),this.strength=d,this.type=e.toLowerCase(),this.size=data.poles[`${this.type}`].width}show(){push(),translate(this.position.x,this.position.y),data.poles[`${this.type}`].stroke.check?(stroke(data.poles[`${this.type}`].stroke.color),strokeWeight(data.poles[`${this.type}`].stroke.weight)):noStroke(),data.poles[`${this.type}`].fill.check?fill(data.poles[`${this.type}`].fill.color):noFill(),rect(0,0,data.poles[`${this.type}`].width,data.poles[`${this.type}`].height),push(),textAlign(CENTER,CENTER),textSize(20),noStroke(),fill(0,200),text(`${this.type[0].toUpperCase()}`,0,0),pop(),pop()}}