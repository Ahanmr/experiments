let song,fft,loaded=!1;function setup(){createCanvas(windowWidth,windowHeight),song=loadSound("https://raw.githubusercontent.com/a-y-u-s-h/sounds/experiments/14.mp3",soundLoaded),fft=new p5.FFT(0,64)}function soundloaded(){song.play(),loaded=!0}function draw(){if(!loaded)push(),background(0),translate(width/2,height/2),rectMode(CENTER),fill(255),textAlign(CENTER),text("Loading..",0,-20),fill(255),rect(0,0,200*Math.sin(0.05*frameCount),10),pop();else{background(0);let c=fft.analyze();push(),translate(width/2,height/2),rectMode(CENTER),colorMode(HSL),scale(1,-1),angleMode(DEGREES);for(var a=0,b=c.length;a<b;a+=1){let d=width/b;noFill(),strokeWeight(10);let e=map(c[a],0,255,0,100),f=map(c[a+1]+c[a],0,510,100,0),g=map(c[a+2]+c[a],0,510,0,100);stroke(e,f,g),arc(0,0,1.2*(a*d),1.2*(a*d),0,360)}pop()}}