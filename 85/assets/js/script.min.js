let data={sketch:{background:"#FFFFFF"}},vehicles=[];function setup(){createCanvas(windowWidth,windowHeight);for(var a=0;a<25;a+=1)vehicles[a]=new Vehicle(random(width),random(height),a);colorMode(HSB,100),background(data.sketch.background),noStroke()}function draw(){background(255,5);let a=new p5.Vector(mouseX,mouseY);for(var b=0,c=vehicles.length;b<c;b+=1)0==b&&vehicles[b].seek(a),0<b&&vehicles[b].seek(vehicles[b-1].location);vehicles.forEach(e=>{e.update(),e.display()})}class Vehicle{constructor(a,b,c){this.location=new p5.Vector(a,b),this.velocity=p5.Vector.random2D(),this.acceleration=new p5.Vector(0,0),this.i=c,this.r=map(c,0,25,20,5),this.maxSpeed=random(20,21),this.maxForce=2}applyForce(a){this.acceleration.add(a)}update(){this.velocity.add(this.acceleration),this.velocity.limit(this.maxSpeed),this.location.add(this.velocity),this.acceleration.mult(0)}seek(a){let b=p5.Vector.sub(a,this.location),c=b.mag();if(b.normalize(),100>c){let f=map(c,10,100,2,this.maxSpeed);b.mult(f)}else b.mult(this.maxSpeed);let e=p5.Vector.sub(b,this.velocity);e.limit(this.maxForce),this.applyForce(e)}display(){let a=this.velocity.heading()+PI/2;push(),translate(this.location.x,this.location.y),rotate(a),stroke(0),stroke(1),fill(map(this.i,0,vehicles.length,0,100),100,100,90),triangle(this.r,this.r,-this.r,this.r,0,2*-this.r),pop()}}