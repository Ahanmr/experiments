let data={sketch:{background:"#FC5800"},pattern:{petal:{kx:6,ky:6,increment:0,size:300,angle:360,pointy:!1,fill:{check:!0,color:"#ff7429"},stroke:{check:!0,color:"#000000",weight:2}},point:{show:!1,stroke:{check:!1,color:"#000000",weight:1},fill:{check:!0,color:"#000000"},size:5}}};var controlkit,createControlKit=()=>{controlkit=new ControlKit,controlkit.addPanel({fixed:!1,label:"Sketch Controls"}).addColor(data.sketch,"background",{colorMode:"hex",label:"Background Color"}).addSubGroup({label:"Petal Settings"}).addNumberInput(data.pattern.petal,"kx",{label:"k in rx = A * cos(k * \u03B8)",step:0.1,dp:3}).addNumberInput(data.pattern.petal,"ky",{label:"k in ry = A * sin(k * \u03B8)",step:0.1,dp:3}).addNumberInput(data.pattern.petal,"size",{label:"Petal Size",step:1,dp:3}).addNumberInput(data.pattern.petal,"increment",{label:"Resolution",step:0.01,dp:2}).addNumberInput(data.pattern.petal,"angle",{label:"Angle to travel",step:1,dp:1}).addCheckbox(data.pattern.petal,"pointy",{label:"Pointy?"}).addCheckbox(data.pattern.petal.stroke,"check",{label:"Stroke?"}).addNumberInput(data.pattern.petal.stroke,"weight",{label:"Stroke Weight",step:1,dp:1}).addColor(data.pattern.petal.stroke,"color",{colorMode:"hex",label:"Stroke Color"}).addCheckbox(data.pattern.petal.fill,"check",{label:"Fill?"}).addColor(data.pattern.petal.fill,"color",{colorMode:"hex",label:"Fill Color"}).addSubGroup({label:"Point Settings"}).addCheckbox(data.pattern.point,"show",{label:"Show?"}).addColor(data.pattern.point.stroke,"color",{colorMode:"hex",label:"Stroke Color"}).addColor(data.pattern.point.fill,"color",{colorMode:"hex",label:"Fill Color"}).addNumberInput(data.pattern.point,"size",{label:"Size",step:1,dp:1})};createControlKit();class Pattern{constructor(a,b,c){this.origin=new p5.Vector(a,b),this.size=c,this.kx=data.pattern.petal.kx,this.ky=data.pattern.petal.ky,this.increment=data.pattern.petal.increment}show(){push(),translate(this.origin.x,this.origin.y),data.pattern.petal.stroke.check?(stroke(data.pattern.petal.stroke.color),strokeWeight(data.pattern.petal.stroke.weight)):noStroke(),data.pattern.petal.fill.check?fill(data.pattern.petal.fill.color):noFill(),beginShape();for(var a=0,b=data.pattern.petal.angle;a<b+3;a+=1+abs(this.increment)){let c=this.size*cos(this.kx*a)*cos(a),d=this.size*cos(this.ky*a)*sin(a);data.pattern.petal.pointy?vertex(c,d):curveVertex(c,d),data.pattern.point.show&&(push(),data.pattern.point.stroke.check?(stroke(data.pattern.point.stroke.color),strokeWeight(data.pattern.point.stroke.weight)):noStroke(),data.pattern.point.fill.check?fill(data.pattern.point.fill.color):noFill(),ellipse(c,d,data.pattern.point.size,data.pattern.point.size),pop())}endShape(),pop()}update(){this.kx=data.pattern.petal.kx,this.ky=data.pattern.petal.ky,this.increment=data.pattern.petal.increment,this.size=data.pattern.petal.size}}let p;function setup(){createCanvas(0.77*windowWidth,windowHeight),angleMode(DEGREES),ellipseMode(CENTER),p=new Pattern(0.5*width,0.5*height,300,4)}function draw(){background(data.sketch.background),p.update(),p.show()}