let data={sketch:{background:"#000000"}},dancer,music,soundLoading=!0,videoLoading=!0;function setup(){createCanvas(windowWidth,windowHeight),dancer=createVideo("assets/media/vid/34.mp4",videoLoaded).hide(),dancer.size(80,60),music=loadSound("/sounds/experiments/34.mp3",soundLoaded)}function soundLoaded(){soundLoading=!1,music.loop()}function videoLoaded(){videoLoading=!1,dancer.loop(),dancer.speed(1.2)}function draw(){if(soundLoading||videoLoading)push(),background(0),textSize(15),noStroke(),fill(255),translate(0.5*width,0.5*height),textAlign(CENTER,CENTER),text("Loading..",0,0),pop();else{background(data.sketch.background),stroke(0),colorMode(HSB,100),angleMode(DEGREES),dancer.loadPixels();for(var a=0,c=dancer.width;a<c;a+=1)for(var d=0,e=dancer.height;d<e;d+=1){let f=4*(a+d*dancer.width),h=dancer.pixels[f+0],i=dancer.pixels[f+1],j=dancer.pixels[f+2];fill(map(h*a,0,255*dancer.width,100*cos(frameCount),100*sin(frameCount)),map(i*d,0,255*dancer.height,80,100*cos(frameCount)),map(j*(a+d),0,255*(dancer.width+dancer.height),random(20,25),100)),127>(h+i+j)/2?strokeWeight(2):strokeWeight(1),rect(a*(1*width/dancer.width),d*(1*height/dancer.height),1*(1*width/dancer.width),1*(1*height/dancer.height))}}}