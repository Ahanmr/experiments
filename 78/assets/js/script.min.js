let data={sketch:{background:"#FFFFFF",scale:window.innerHeight/window.innerWidth,width:160,height:120},metaball:{number:8,size:0.5}},blobs=[];function setup(){let a=createCanvas(data.sketch.width,data.sketch.height*data.sketch.scale);a.id("canvas"),colorMode(RGB,100);for(var c=0,e=data.metaball.number;c<e;c+=1)blobs.push(new Blob(random(width),random(height)))}function draw(){background(data.sketch.background),loadPixels();for(var a=0,c=width;a<c;a+=1)for(var e=0,f=height;e<f;e+=1){let g=4*(a+e*width),h=0;blobs.forEach(k=>{let l=dist(a,e,k.position.x,k.position.y);h+=k.r/l});let j=color(map(h,0,(width+height)*data.metaball.size,0,100*sin(0.1*frameCount)),map(h,0,(width+height)*data.metaball.size,0,100*sin(0.05*frameCount)),map(h,0,(width+height)*data.metaball.size,10,100*sin(0.01*frameCount)));set(a,e,j)}updatePixels(),blobs.forEach(g=>{g.update()})}