let data={sketch:{background:"#FFFFFF01"}},creatures=[];function setup(){createCanvas(windowWidth,windowHeight),colorMode(RGB,100),angleMode(DEGREES),noStroke(),background(255);for(var a=0;2>a;a+=1)creatures[a]=new Creature(0.5*width,0.5*height)}function draw(){background(data.sketch.background);for(creature of creatures)creature.run()}class Creature{constructor(a,b){this.position=new p5.Vector(a,b),this.velocity=p5.Vector.random2D(),this.velocity.mult(5),this.acceleration=new p5.Vector,this.r=30,this.locations=[]}run(){this.trail(),this.update()}update(){(this.position.x>width-this.r||this.position.x<this.r)&&(this.velocity.x*=-1),(this.position.y>height-this.r||this.position.y<this.r)&&(this.velocity.y*=-1),this.r=50*noise(this.position.x,this.position.y),0==frameCount%1&&(600>this.locations.length?this.locations.push(this.position.copy()):this.locations.splice(0,1)),this.position.add(this.velocity),this.velocity.add(this.acceleration)}trail(){if(1<this.locations.length)for(var a=0;a<this.locations.length;a+=1){let b=noise(this.locations[a].x,this.locations[a].y),c=this.locations[a].x+100*b*tan(5*frameCount+90*b)+random(30*-b,30*b),d=this.locations[a].y+100*b*cos(5*frameCount+90*b)+random(-20,20),e=randomGaussian(0,5)*sin(0.1*frameCount*a+0.1*a);push(),translate(c,d),fill(map(b+sin(3*frameCount+5*a),-2,2,50,100*sin(0.4*frameCount+a)),map(b+sin(3*frameCount+5*a),-2,2,90,100*cos(frameCount+a)),map(b+sin(3*frameCount+5*a),-2,2,90,100*sin(frameCount)),map(b,-1,1,0,100)),ellipse(0,0,2*e,2*e),pop()}}}