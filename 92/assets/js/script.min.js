let data={sketch:{background:"#FFFFFF"},iterative:{r:50,tube:100}},collective1,collective2,collective3;function setup(){createCanvas(windowWidth,windowHeight),background(data.sketch.background),angleMode(DEGREES),collective1=new Collective(0.5*width,0.5*height),collective2=new Collective(0.2*width,0.5*height),collective3=new Collective(0.8*width,0.5*height)}function draw(){background(255,1),collective1.show(),collective2.show(),collective3.show()}class Collective{constructor(a=0.5*width,b=0.5*height){this.cx=a,this.cy=b,this.donut=new Iterative(a,b),this.particles=new Iterative(a,b,0.5*data.iterative.r,"abnormal")}show(){this.donut.update(),this.donut.show()}}class Iterative{constructor(a=0.5*width,b=0.5*height,c=data.iterative.r,d="normal"){this.cx=a,this.cy=b,this.position=new p5.Vector(a,b),this.type=d,this.r=c}show(){push(),translate(this.position.x,this.position.y),stroke(0),strokeWeight(1),beginShape();for(var a=0;a<360;a+=1){let c=this.r*cos(a),d=this.r*sin(a);"normal"===this.type?point(c,d):(push(),stroke("#00AAA223"),point(0.5*(c*noise(c,d)),0.5*(d*noise(c,d))),pop())}endShape(),pop()}update(){this.position.x=this.cx+2*data.iterative.tube*cos(2*frameCount)*sin(2*frameCount),this.position.y=this.cy+2*data.iterative.tube*sin(frameCount)}}