let data={sketch:{background:"#FFC28E"},fractal:{text:`‡•ê`,fill:"#FF1E00",size:200,size_multiplier:0.5,threshhold_factor:0.2,yinyangs:10,spacing:2.2,rotation:{check:!0,value:0}}},song,loading=!0,amplitude,vol,fft,spectrum;function setup(){createCanvas(windowWidth,windowHeight),song=loadSound("/sounds/experiments/41.mp3",loaded),amplitude=new p5.Amplitude,fft=new p5.FFT(0.8,64)}function loaded(){loading=!1,song.play()}function draw(){background(data.sketch.background),angleMode(DEGREES),colorMode(HSB,100),vol=amplitude.getLevel(),spectrum=fft.analyze();for(var a=0,b=spectrum.length;a<b;a+=1)push(),translate(0.5*width,0.5*height),fill(map(spectrum[a],0,255,100,0),map(spectrum[a],0,255,100,0),map(spectrum[a],0,255,0,100)),stroke(0),ellipse(0,0,0.12*data.fractal.size*(b-a+1),0.12*data.fractal.size*(b-a+1)),pop();push(),translate(0.5*width,0.5*height),rotate(data.fractal.rotation),fractal(data.fractal.size,`${data.fractal.text}`),pop()}function fractal(a,b){if(noSmooth(),textAlign(CENTER,CENTER),textSize(a),angleMode(DEGREES),noStroke(),loading?(fill(data.fractal.fill),noStroke()):(stroke(0),fill(255),strokeWeight(1)),push(),text(`${b}`,0,0),pop(),a>data.fractal.size*data.fractal.threshhold_factor)for(var c=0;c<360;c+=360/data.fractal.yinyangs){push();let e=a*data.fractal.spacing*cos(c+0.1*frameCount),f=a*data.fractal.spacing*sin(c+0.1*frameCount);translate(e,f),scale(0.7-vol),fractal(a*data.fractal.size_multiplier,`${b}`),pop()}}