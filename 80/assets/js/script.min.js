let data={sketch:{addSharpness:-0.03,skyHeight:window.innerHeight/10,noiseWidth:window.innerHeight/3,noiseHeight:window.innerHeight,layerDifference:100+10*Math.random(),layers:12,barWidth:1,minScale:0.075,maxScale:0.55}};function setup(){createCanvas(windowWidth,windowHeight),noStroke(),colorMode(HSB,360,255,255)}function draw(){noiseDetail(9,0.5+data.sketch.addSharpness),background(getColor(0));for(var a=1;a<data.sketch.layers;a++){var b=exp(map(a,0,data.sketch.layers-1,log(data.sketch.minScale),log(data.sketch.maxScale))),c=1.7*map(a,0,data.sketch.layers,0,height)*b+data.sketch.skyHeight,d=map(a,0,data.sketch.layers-1,0,1);fill(getColor(d));for(var e=100+0.01*frameCount,f=0;f<width;f+=data.sketch.barWidth){var g=f-width/2,h=noise(g/b/data.sketch.noiseWidth+e,a*data.sketch.layerDifference),j=-data.sketch.noiseHeight/2*b,k=map(h,0,1,-j,j);rect(int(f),int(c+k),data.sketch.barWidth,height)}}}function getColor(a){var b=exp(1.75-1.075*a);a=192*pow(a,b)/255;var c=60+5*sin(0.12*frameCount),d=30*sin(0.1*frameCount)+200;return color(map(a,0,1,c,d),map(pow(a,exp(-0.05)),0,1,48,255),map(pow(a,exp(-0.35)),0,1,239,0))}