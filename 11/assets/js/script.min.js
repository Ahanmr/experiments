let camera,renderer,scene,data={scene:{background:"#f0f0f0",follow_mouse:!1},light:{color:"#C41616",intensity:0.6},cube:{size:200,rotation_speed:0.01}};var controlKit,createControlKit=()=>{controlKit=new ControlKit,controlKit.addPanel({fixed:!1,label:"Parameter Controls"}).addColor(data.scene,"background",{label:"Background"}).addCheckbox(data.scene,"follow_mouse",{label:"Follow Mouse?"}).addSubGroup({label:"Cube Controls"}).addNumberInput(data.cube,"rotation_speed",{label:"Rotation Speed",step:1e-3,dp:3})};createControlKit();class Box{constructor(){this.size=200,this.rotation_angle=0,this.shape=new THREE.BoxGeometry(data.cube.size,data.cube.size,data.cube.size),this.cover=new THREE.MeshNormalMaterial,this.light=new THREE.AmbientLight(data.light.color,data.light.intensity),this.mesh=new THREE.Mesh(this.shape,this.cover)}show(){scene.add(this.light),scene.add(this.mesh)}update(){this.mesh.rotation.set(this.rotation_angle,this.rotation_angle,this.rotation_angle),this.light.color.set(data.light.color),this.light.intensity=data.light.intensity,this.rotation_angle+=data.cube.rotation_speed}}function init(){scene=new THREE.Scene,scene.background=new THREE.Color(15790320);let a=window.innerWidth/window.innerHeight;camera=new THREE.PerspectiveCamera(75,a,100,1e3),camera.position.set(0,0,600),scene.add(camera),renderer=new THREE.WebGLRenderer,renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(renderer.domElement),renderer.render(scene,camera)}let box=new Box;var cursorX,cursorY;function animate(){data.scene.follow_mouse?document.onmousemove=function(a){cursorX=a.pageX-window.innerWidth/2,cursorY=-(a.pageY-window.innerHeight/2)}:(cursorX=0,cursorY=0),box.show(),box.update(),scene.background=new THREE.Color(data.scene.background),box.mesh.position.x=cursorX,box.mesh.position.y=cursorY,scene.add(box.mesh),requestAnimationFrame(animate),renderer.render(scene,camera)}init(),animate();