let data={sketch:{background:"#000000"}},particles=[];function setup(){createCanvas(windowWidth,windowHeight),angleMode(DEGREES),colorMode(HSB,100),noStroke()}function draw(){background(data.sketch.background),0==frameCount%2&&particles.push(new Particle(randomGaussian(0.5*width,0.05*width),randomGaussian(height,2)));for(var a=0,b=particles.length;a<b;a+=1)particles[a]&&(particles[a].update(),particles[a].show(),0>particles[a].lifespan&&(particles.splice(a,1),a--));console.log(particles.length)}class Particle{constructor(a,b){this.origin=new p5.Vector(a,b),this.x=a,this.y=b,this.lifespan=400,this.hue=random(20,40),this.r=random(2,3),this.original_r=this.r,this.delay=random(0,360)}show(){push(),translate(this.x,this.y),fill(this.hue+20*sin(frameCount),100,this.delay,100),ellipse(0,0,2*this.r,2*this.r),pop()}update(){this.lifespan--,this.x=this.origin.x+100*sin(frameCount+this.delay),this.y-=2;dist(this.x,this.y,mouseX,mouseY);this.r=(this.original_r+2)*sin(0.5*frameCount*this.original_r)}}