let data={sketch:{background:"#333444"},pixels:{size:20}},grid;function setup(){createCanvas(windowWidth,windowHeight),colorMode(HSB,100),rectMode(CENTER),grid=new Grid,grid.init()}function draw(){background(data.sketch.background),grid.disco(),grid.show(),console.log(frameCount)}class Pixel{constructor(a,b,c=0,d=0){this.cx=a,this.cy=b,this.i=c,this.j=d,this.color=color(random(100),random(100),random(100))}show(){push(),fill(this.color),strokeWeight(1+2*sin(0.01*frameCount)),translate(this.cx,this.cy),rotate(0.05*frameCount),rect(0,0,data.pixels.size,data.pixels.size),pop()}disco(){this.color=color(20+20*sin(0.01*frameCount)+random(10,20),random(10,20)+50+20*cos(1e-4*(frameCount*(this.j+1))),100)}}class Grid{constructor(){this.pixels=[]}init(){for(let a=0,b=round(width/data.pixels.size);a<b;a+=1){this.pixels[a]=[];for(let c=0,d=round(height/data.pixels.size);c<d;c+=1){let e=(a+0.5)*data.pixels.size,f=(c+0.5)*data.pixels.size;this.pixels[a].push(new Pixel(e,f,a,c))}}}show(){for(let a=0,b=this.pixels.length;a<b;a+=1)for(let c=0,d=this.pixels[a].length;c<d;c+=1)this.pixels[a][c].show()}destroy(){this.pixels=[]}disco(){for(var a=0,b=this.pixels.length;a<b;a+=1)for(var c=0,d=this.pixels[a].length;c<d;c+=1)this.pixels[a][c].disco()}}